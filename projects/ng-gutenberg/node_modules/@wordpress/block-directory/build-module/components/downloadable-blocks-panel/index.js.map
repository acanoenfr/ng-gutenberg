{"version":3,"sources":["@wordpress/block-directory/src/components/downloadable-blocks-panel/index.js"],"names":["Fragment","compose","withSelect","__","_n","sprintf","Spinner","withSpokenMessages","DownloadableBlocksList","DownloadableBlocksPanel","downloadableItems","onSelect","onHover","hasPermission","isLoading","isWaiting","debouncedSpeak","length","resultsFoundMessage","select","filterValue","getDownloadableBlocks","hasInstallBlocksPermission","isRequestingDownloadableBlocks"],"mappings":";;AAAA;;;AAGA,SAASA,QAAT,QAAyB,oBAAzB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,EAAT,EAAaC,EAAb,EAAiBC,OAAjB,QAAgC,iBAAhC;AACA,SAASC,OAAT,EAAkBC,kBAAlB,QAA4C,uBAA5C;AAEA;;;;AAGA,OAAOC,sBAAP,MAAmC,6BAAnC;;AAEA,SAASC,uBAAT,OAAkI;AAAA,MAA9FC,iBAA8F,QAA9FA,iBAA8F;AAAA,MAA3EC,QAA2E,QAA3EA,QAA2E;AAAA,MAAjEC,OAAiE,QAAjEA,OAAiE;AAAA,MAAxDC,aAAwD,QAAxDA,aAAwD;AAAA,MAAzCC,SAAyC,QAAzCA,SAAyC;AAAA,MAA9BC,SAA8B,QAA9BA,SAA8B;AAAA,MAAnBC,cAAmB,QAAnBA,cAAmB;;AACjI,MAAK,CAAEH,aAAP,EAAuB;AACtBG,IAAAA,cAAc,CAAEb,EAAE,CAAE,gGAAF,CAAJ,CAAd;AACA,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACGA,EAAE,CAAE,kCAAF,CADL,EAEC,yBAFD,EAGGA,EAAE,CAAE,+DAAF,CAHL,CADD;AAOA;;AAED,MAAKW,SAAS,IAAIC,SAAlB,EAA8B;AAC7B,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACC,cAAC,OAAD,OADD,CADD;AAKA;;AAED,MAAK,CAAEL,iBAAiB,CAACO,MAAzB,EAAkC;AACjC,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACGd,EAAE,CAAE,kCAAF,CADL,CADD;AAKA;;AAED,MAAMe,mBAAmB,GAAGb,OAAO,CAClCD,EAAE,CAAE,+EAAF,EAAmF,gFAAnF,EAAqKM,iBAAiB,CAACO,MAAvL,CADgC,EAElCP,iBAAiB,CAACO,MAFgB,CAAnC;AAKAD,EAAAA,cAAc,CAAEE,mBAAF,CAAd;AACA,SACC,cAAC,QAAD,QACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACGf,EAAE,CAAE,gFAAF,CADL,CADD,EAIC,cAAC,sBAAD;AAAwB,IAAA,KAAK,EAAGO,iBAAhC;AAAoD,IAAA,QAAQ,EAAGC,QAA/D;AAA0E,IAAA,OAAO,EAAGC;AAApF,IAJD,CADD;AAQA;;AAED,eAAeX,OAAO,CAAE,CACvBM,kBADuB,EAEvBL,UAAU,CAAE,UAAEiB,MAAF,SAA+B;AAAA,MAAnBC,WAAmB,SAAnBA,WAAmB;;AAAA,gBAKtCD,MAAM,CAAE,sBAAF,CALgC;AAAA,MAEzCE,qBAFyC,WAEzCA,qBAFyC;AAAA,MAGzCC,0BAHyC,WAGzCA,0BAHyC;AAAA,MAIzCC,8BAJyC,WAIzCA,8BAJyC;;AAO1C,MAAMV,aAAa,GAAGS,0BAA0B,EAAhD;AACA,MAAMZ,iBAAiB,GAAGG,aAAa,GAAGQ,qBAAqB,CAAED,WAAF,CAAxB,GAA0C,EAAjF;AACA,MAAMN,SAAS,GAAGS,8BAA8B,EAAhD;AAEA,SAAO;AACNb,IAAAA,iBAAiB,EAAjBA,iBADM;AAENG,IAAAA,aAAa,EAAbA,aAFM;AAGNC,IAAAA,SAAS,EAATA;AAHM,GAAP;AAKA,CAhBS,CAFa,CAAF,CAAP,CAmBVL,uBAnBU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Spinner, withSpokenMessages } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlocksList from '../downloadable-blocks-list';\n\nfunction DownloadableBlocksPanel( { downloadableItems, onSelect, onHover, hasPermission, isLoading, isWaiting, debouncedSpeak } ) {\n\tif ( ! hasPermission ) {\n\t\tdebouncedSpeak( __( 'No blocks found in your library. Please contact your site administrator to install new blocks.' ) );\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t{ __( 'No blocks found in your library.' ) }\n\t\t\t\t<br />\n\t\t\t\t{ __( 'Please contact your site administrator to install new blocks.' ) }\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif ( isLoading || isWaiting ) {\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t<Spinner />\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif ( ! downloadableItems.length ) {\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t{ __( 'No blocks found in your library.' ) }\n\t\t\t</p>\n\t\t);\n\t}\n\n\tconst resultsFoundMessage = sprintf(\n\t\t_n( 'No blocks found in your library. We did find %d block available for download.', 'No blocks found in your library. We did find %d blocks available for download.', downloadableItems.length ),\n\t\tdownloadableItems.length\n\t);\n\n\tdebouncedSpeak( resultsFoundMessage );\n\treturn (\n\t\t<Fragment>\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description\">\n\t\t\t\t{ __( 'No blocks found in your library. These blocks can be downloaded and installed:' ) }\n\t\t\t</p>\n\t\t\t<DownloadableBlocksList items={ downloadableItems } onSelect={ onSelect } onHover={ onHover } />\n\t\t</Fragment>\n\t);\n}\n\nexport default compose( [\n\twithSpokenMessages,\n\twithSelect( ( select, { filterValue } ) => {\n\t\tconst {\n\t\t\tgetDownloadableBlocks,\n\t\t\thasInstallBlocksPermission,\n\t\t\tisRequestingDownloadableBlocks,\n\t\t} = select( 'core/block-directory' );\n\n\t\tconst hasPermission = hasInstallBlocksPermission();\n\t\tconst downloadableItems = hasPermission ? getDownloadableBlocks( filterValue ) : [];\n\t\tconst isLoading = isRequestingDownloadableBlocks();\n\n\t\treturn {\n\t\t\tdownloadableItems,\n\t\t\thasPermission,\n\t\t\tisLoading,\n\t\t};\n\t} ),\n] )( DownloadableBlocksPanel );\n"]}