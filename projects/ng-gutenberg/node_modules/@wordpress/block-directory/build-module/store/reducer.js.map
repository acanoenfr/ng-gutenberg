{"version":3,"sources":["@wordpress/block-directory/src/store/reducer.js"],"names":["combineReducers","downloadableBlocks","state","results","hasPermission","filterValue","undefined","isRequestingDownloadableBlocks","installedBlockTypes","action","type","Object","assign","items","item","filter","blockType","name"],"mappings":";;;;AAAA;;;AAGA,SAASA,eAAT,QAAgC,iBAAhC;AAEA;;;;;;;;;AAQA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAMnB;AAAA,MANqBC,KAMrB,uEAN6B;AAC3CC,IAAAA,OAAO,EAAE,EADkC;AAE3CC,IAAAA,aAAa,EAAE,IAF4B;AAG3CC,IAAAA,WAAW,EAAEC,SAH8B;AAI3CC,IAAAA,8BAA8B,EAAE,IAJW;AAK3CC,IAAAA,mBAAmB,EAAE;AALsB,GAM7B;AAAA,MAAZC,MAAY;;AACd,UAASA,MAAM,CAACC,IAAhB;AACC,SAAK,2BAAL;AACC,+BACIR,KADJ;AAECK,QAAAA,8BAA8B,EAAE;AAFjC;;AAID,SAAK,6BAAL;AACC,+BACIL,KADJ;AAECC,QAAAA,OAAO,EAAEQ,MAAM,CAACC,MAAP,CAAe,EAAf,EAAmBV,KAAK,CAACC,OAAzB,sBACNM,MAAM,CAACJ,WADD,EACgBI,MAAM,CAACR,kBADvB,EAFV;AAKCG,QAAAA,aAAa,EAAE,IALhB;AAMCG,QAAAA,8BAA8B,EAAE;AANjC;;AAQD,SAAK,+BAAL;AACC,+BACIL,KADJ;AAECW,QAAAA,KAAK,EAAEJ,MAAM,CAACL,aAAP,GAAuBF,KAAK,CAACW,KAA7B,GAAqC,EAF7C;AAGCT,QAAAA,aAAa,EAAEK,MAAM,CAACL;AAHvB;;AAKD,SAAK,0BAAL;AACC,+BACIF,KADJ;AAECM,QAAAA,mBAAmB,+BAAON,KAAK,CAACM,mBAAb,IAAkCC,MAAM,CAACK,IAAzC;AAFpB;;AAKD,SAAK,6BAAL;AACC,+BACIZ,KADJ;AAECM,QAAAA,mBAAmB,EAAEN,KAAK,CAACM,mBAAN,CAA0BO,MAA1B,CAAkC,UAAEC,SAAF;AAAA,iBAAiBA,SAAS,CAACC,IAAV,KAAmBR,MAAM,CAACK,IAAP,CAAYG,IAAhD;AAAA,SAAlC;AAFtB;AA5BF;;AAiCA,SAAOf,KAAP;AACA,CAzCM;AA2CP,eAAeF,eAAe,CAAE;AAC/BC,EAAAA,kBAAkB,EAAlBA;AAD+B,CAAF,CAA9B","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer returning an array of downloadable blocks.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const downloadableBlocks = ( state = {\n\tresults: {},\n\thasPermission: true,\n\tfilterValue: undefined,\n\tisRequestingDownloadableBlocks: true,\n\tinstalledBlockTypes: [],\n}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'FETCH_DOWNLOADABLE_BLOCKS' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRequestingDownloadableBlocks: true,\n\t\t\t};\n\t\tcase 'RECEIVE_DOWNLOADABLE_BLOCKS' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tresults: Object.assign( {}, state.results, {\n\t\t\t\t\t[ action.filterValue ]: action.downloadableBlocks,\n\t\t\t\t} ),\n\t\t\t\thasPermission: true,\n\t\t\t\tisRequestingDownloadableBlocks: false,\n\t\t\t};\n\t\tcase 'SET_INSTALL_BLOCKS_PERMISSION' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.hasPermission ? state.items : [],\n\t\t\t\thasPermission: action.hasPermission,\n\t\t\t};\n\t\tcase 'ADD_INSTALLED_BLOCK_TYPE' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinstalledBlockTypes: [ ...state.installedBlockTypes, action.item ],\n\t\t\t};\n\n\t\tcase 'REMOVE_INSTALLED_BLOCK_TYPE' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinstalledBlockTypes: state.installedBlockTypes.filter( ( blockType ) => blockType.name !== action.item.name ),\n\t\t\t};\n\t}\n\treturn state;\n};\n\nexport default combineReducers( {\n\tdownloadableBlocks,\n} );\n"]}