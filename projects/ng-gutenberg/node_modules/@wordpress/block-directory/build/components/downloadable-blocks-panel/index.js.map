{"version":3,"sources":["@wordpress/block-directory/src/components/downloadable-blocks-panel/index.js"],"names":["DownloadableBlocksPanel","downloadableItems","onSelect","onHover","hasPermission","isLoading","isWaiting","debouncedSpeak","length","resultsFoundMessage","withSpokenMessages","select","filterValue","getDownloadableBlocks","hasInstallBlocksPermission","isRequestingDownloadableBlocks"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AAZA;;;;AASA;;;AAKA,SAASA,uBAAT,OAAkI;AAAA,MAA9FC,iBAA8F,QAA9FA,iBAA8F;AAAA,MAA3EC,QAA2E,QAA3EA,QAA2E;AAAA,MAAjEC,OAAiE,QAAjEA,OAAiE;AAAA,MAAxDC,aAAwD,QAAxDA,aAAwD;AAAA,MAAzCC,SAAyC,QAAzCA,SAAyC;AAAA,MAA9BC,SAA8B,QAA9BA,SAA8B;AAAA,MAAnBC,cAAmB,QAAnBA,cAAmB;;AACjI,MAAK,CAAEH,aAAP,EAAuB;AACtBG,IAAAA,cAAc,CAAE,cAAI,gGAAJ,CAAF,CAAd;AACA,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACG,cAAI,kCAAJ,CADH,EAEC,uCAFD,EAGG,cAAI,+DAAJ,CAHH,CADD;AAOA;;AAED,MAAKF,SAAS,IAAIC,SAAlB,EAA8B;AAC7B,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACC,4BAAC,mBAAD,OADD,CADD;AAKA;;AAED,MAAK,CAAEL,iBAAiB,CAACO,MAAzB,EAAkC;AACjC,WACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACG,cAAI,kCAAJ,CADH,CADD;AAKA;;AAED,MAAMC,mBAAmB,GAAG,mBAC3B,cAAI,+EAAJ,EAAqF,gFAArF,EAAuKR,iBAAiB,CAACO,MAAzL,CAD2B,EAE3BP,iBAAiB,CAACO,MAFS,CAA5B;AAKAD,EAAAA,cAAc,CAAEE,mBAAF,CAAd;AACA,SACC,4BAAC,iBAAD,QACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACG,cAAI,gFAAJ,CADH,CADD,EAIC,4BAAC,+BAAD;AAAwB,IAAA,KAAK,EAAGR,iBAAhC;AAAoD,IAAA,QAAQ,EAAGC,QAA/D;AAA0E,IAAA,OAAO,EAAGC;AAApF,IAJD,CADD;AAQA;;eAEc,sBAAS,CACvBO,8BADuB,EAEvB,sBAAY,UAAEC,MAAF,SAA+B;AAAA,MAAnBC,WAAmB,SAAnBA,WAAmB;;AAAA,gBAKtCD,MAAM,CAAE,sBAAF,CALgC;AAAA,MAEzCE,qBAFyC,WAEzCA,qBAFyC;AAAA,MAGzCC,0BAHyC,WAGzCA,0BAHyC;AAAA,MAIzCC,8BAJyC,WAIzCA,8BAJyC;;AAO1C,MAAMX,aAAa,GAAGU,0BAA0B,EAAhD;AACA,MAAMb,iBAAiB,GAAGG,aAAa,GAAGS,qBAAqB,CAAED,WAAF,CAAxB,GAA0C,EAAjF;AACA,MAAMP,SAAS,GAAGU,8BAA8B,EAAhD;AAEA,SAAO;AACNd,IAAAA,iBAAiB,EAAjBA,iBADM;AAENG,IAAAA,aAAa,EAAbA,aAFM;AAGNC,IAAAA,SAAS,EAATA;AAHM,GAAP;AAKA,CAhBD,CAFuB,CAAT,EAmBVL,uBAnBU,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Spinner, withSpokenMessages } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlocksList from '../downloadable-blocks-list';\n\nfunction DownloadableBlocksPanel( { downloadableItems, onSelect, onHover, hasPermission, isLoading, isWaiting, debouncedSpeak } ) {\n\tif ( ! hasPermission ) {\n\t\tdebouncedSpeak( __( 'No blocks found in your library. Please contact your site administrator to install new blocks.' ) );\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t{ __( 'No blocks found in your library.' ) }\n\t\t\t\t<br />\n\t\t\t\t{ __( 'Please contact your site administrator to install new blocks.' ) }\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif ( isLoading || isWaiting ) {\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t<Spinner />\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif ( ! downloadableItems.length ) {\n\t\treturn (\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description has-no-results\">\n\t\t\t\t{ __( 'No blocks found in your library.' ) }\n\t\t\t</p>\n\t\t);\n\t}\n\n\tconst resultsFoundMessage = sprintf(\n\t\t_n( 'No blocks found in your library. We did find %d block available for download.', 'No blocks found in your library. We did find %d blocks available for download.', downloadableItems.length ),\n\t\tdownloadableItems.length\n\t);\n\n\tdebouncedSpeak( resultsFoundMessage );\n\treturn (\n\t\t<Fragment>\n\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description\">\n\t\t\t\t{ __( 'No blocks found in your library. These blocks can be downloaded and installed:' ) }\n\t\t\t</p>\n\t\t\t<DownloadableBlocksList items={ downloadableItems } onSelect={ onSelect } onHover={ onHover } />\n\t\t</Fragment>\n\t);\n}\n\nexport default compose( [\n\twithSpokenMessages,\n\twithSelect( ( select, { filterValue } ) => {\n\t\tconst {\n\t\t\tgetDownloadableBlocks,\n\t\t\thasInstallBlocksPermission,\n\t\t\tisRequestingDownloadableBlocks,\n\t\t} = select( 'core/block-directory' );\n\n\t\tconst hasPermission = hasInstallBlocksPermission();\n\t\tconst downloadableItems = hasPermission ? getDownloadableBlocks( filterValue ) : [];\n\t\tconst isLoading = isRequestingDownloadableBlocks();\n\n\t\treturn {\n\t\t\tdownloadableItems,\n\t\t\thasPermission,\n\t\t\tisLoading,\n\t\t};\n\t} ),\n] )( DownloadableBlocksPanel );\n"]}