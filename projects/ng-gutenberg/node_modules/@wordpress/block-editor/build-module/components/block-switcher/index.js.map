{"version":3,"sources":["@wordpress/block-editor/src/components/block-switcher/index.js"],"names":["castArray","filter","first","mapKeys","orderBy","uniq","map","__","_n","sprintf","Dropdown","IconButton","Toolbar","PanelBody","Path","SVG","getBlockType","getPossibleBlockTransformations","switchToBlockType","cloneBlock","getBlockFromExample","Component","DOWN","withSelect","withDispatch","compose","BlockIcon","BlockStyles","BlockPreview","BlockTypesList","BlockSwitcher","arguments","state","hoveredClassName","onHoverClassName","bind","className","setState","props","blocks","onTransform","inserterItems","hasBlockStyles","length","hoveredBlock","hoveredBlockType","name","itemsByName","possibleBlockTransformations","block","frecency","isSelectionOfSameType","icon","sourceBlockName","blockType","onToggle","isOpen","openOnArrowDown","event","keyCode","preventDefault","stopPropagation","label","onClose","clientId","destinationBlockType","id","title","item","example","attributes","innerBlocks","select","clientIds","getBlocksByClientId","getBlockRootClientId","getInserterItems","getBlockStyles","rootClientId","firstBlock","styles","dispatch","ownProps","replaceBlocks"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { castArray, filter, first, mapKeys, orderBy, uniq, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Dropdown, IconButton, Toolbar, PanelBody, Path, SVG } from '@wordpress/components';\nimport { getBlockType, getPossibleBlockTransformations, switchToBlockType, cloneBlock, getBlockFromExample } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { DOWN } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport BlockStyles from '../block-styles';\nimport BlockPreview from '../block-preview';\nimport BlockTypesList from '../block-types-list';\n\nexport class BlockSwitcher extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\thoveredClassName: null,\n\t\t};\n\t\tthis.onHoverClassName = this.onHoverClassName.bind( this );\n\t}\n\n\tonHoverClassName( className ) {\n\t\tthis.setState( { hoveredClassName: className } );\n\t}\n\n\trender() {\n\t\tconst { blocks, onTransform, inserterItems, hasBlockStyles } = this.props;\n\t\tconst { hoveredClassName } = this.state;\n\n\t\tif ( ! blocks || ! blocks.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst hoveredBlock = hoveredClassName ? blocks[ 0 ] : null;\n\t\tconst hoveredBlockType = hoveredClassName ? getBlockType( hoveredBlock.name ) : null;\n\n\t\tconst itemsByName = mapKeys( inserterItems, ( { name } ) => name );\n\t\tconst possibleBlockTransformations = orderBy(\n\t\t\tfilter(\n\t\t\t\tgetPossibleBlockTransformations( blocks ),\n\t\t\t\t( block ) => block && !! itemsByName[ block.name ]\n\t\t\t),\n\t\t\t( block ) => itemsByName[ block.name ].frecency,\n\t\t\t'desc'\n\t\t);\n\n\t\t// When selection consists of blocks of multiple types, display an\n\t\t// appropriate icon to communicate the non-uniformity.\n\t\tconst isSelectionOfSameType = uniq( map( blocks, 'name' ) ).length === 1;\n\n\t\tlet icon;\n\t\tif ( isSelectionOfSameType ) {\n\t\t\tconst sourceBlockName = blocks[ 0 ].name;\n\t\t\tconst blockType = getBlockType( sourceBlockName );\n\t\t\ticon = blockType.icon;\n\t\t} else {\n\t\t\ticon = 'layout';\n\t\t}\n\n\t\tif ( ! hasBlockStyles && ! possibleBlockTransformations.length ) {\n\t\t\treturn (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tclassName=\"editor-block-switcher__no-switcher-icon block-editor-block-switcher__no-switcher-icon\"\n\t\t\t\t\t\tlabel={ __( 'Block icon' ) }\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tclassName=\"editor-block-switcher block-editor-block-switcher\"\n\t\t\t\tcontentClassName=\"editor-block-switcher__popover block-editor-block-switcher__popover\"\n\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst label = (\n\t\t\t\t\t\t1 === blocks.length ?\n\t\t\t\t\t\t\t__( 'Change block type or style' ) :\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Change type of %d block',\n\t\t\t\t\t\t\t\t\t'Change type of %d blocks',\n\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName=\"editor-block-switcher__toggle block-editor-block-switcher__toggle\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\ttooltip={ label }\n\t\t\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t\t\t\ticon={ (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t\t\t\t\t\t\t<SVG className=\"editor-block-switcher__transform block-editor-block-switcher__transform\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><Path d=\"M6.5 8.9c.6-.6 1.4-.9 2.2-.9h6.9l-1.3 1.3 1.4 1.4L19.4 7l-3.7-3.7-1.4 1.4L15.6 6H8.7c-1.4 0-2.6.5-3.6 1.5l-2.8 2.8 1.4 1.4 2.8-2.8zm13.8 2.4l-2.8 2.8c-.6.6-1.3.9-2.1.9h-7l1.3-1.3-1.4-1.4L4.6 16l3.7 3.7 1.4-1.4L8.4 17h6.9c1.3 0 2.6-.5 3.5-1.5l2.8-2.8-1.3-1.4z\" /></SVG>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ( hasBlockStyles || possibleBlockTransformations.length !== 0 ) &&\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__container\">\n\t\t\t\t\t\t\t\t{ hasBlockStyles &&\n\t\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Block Styles' ) }\n\t\t\t\t\t\t\t\t\t\tinitialOpen\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BlockStyles\n\t\t\t\t\t\t\t\t\t\t\tclientId={ blocks[ 0 ].clientId }\n\t\t\t\t\t\t\t\t\t\t\tonSwitch={ onClose }\n\t\t\t\t\t\t\t\t\t\t\tonHoverClassName={ this.onHoverClassName }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ possibleBlockTransformations.length !== 0 &&\n\t\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Transform To:' ) }\n\t\t\t\t\t\t\t\t\t\tinitialOpen\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\t\titems={ possibleBlockTransformations.map( ( destinationBlockType ) => ( {\n\t\t\t\t\t\t\t\t\t\t\t\tid: destinationBlockType.name,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: destinationBlockType.icon,\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: destinationBlockType.title,\n\t\t\t\t\t\t\t\t\t\t\t} ) ) }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonTransform( blocks, item.id );\n\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ( hoveredClassName !== null ) &&\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview\">\n\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview-title\">{ __( 'Preview' ) }</div>\n\t\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\t\thoveredBlockType.example ?\n\t\t\t\t\t\t\t\t\t\t\tgetBlockFromExample( hoveredBlock.name, {\n\t\t\t\t\t\t\t\t\t\t\t\tattributes: { ...hoveredBlockType.example.attributes, className: hoveredClassName },\n\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks: hoveredBlockType.example.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t\t} ) :\n\t\t\t\t\t\t\t\t\t\t\tcloneBlock( hoveredBlock, { className: hoveredClassName } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst { getBlocksByClientId, getBlockRootClientId, getInserterItems } = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst rootClientId = getBlockRootClientId( first( castArray( clientIds ) ) );\n\t\tconst blocks = getBlocksByClientId( clientIds );\n\t\tconst firstBlock = blocks && blocks.length === 1 ? blocks[ 0 ] : null;\n\t\tconst styles = firstBlock && getBlockStyles( firstBlock.name );\n\t\treturn {\n\t\t\tblocks,\n\t\t\tinserterItems: getInserterItems( rootClientId ),\n\t\t\thasBlockStyles: styles && styles.length > 0,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tonTransform( blocks, name ) {\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\townProps.clientIds,\n\t\t\t\tswitchToBlockType( blocks, name )\n\t\t\t);\n\t\t},\n\t} ) ),\n)( BlockSwitcher );\n"]}