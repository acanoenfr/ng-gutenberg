{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["first","last","partial","castArray","ToolbarButton","__","sprintf","withSelect","withDispatch","withInstanceId","compose","BlockMover","isFirst","isLast","onMoveDown","onMoveUp","firstIndex","hint","select","clientIds","getBlockIndex","getBlockRootClientId","getBlockOrder","normalizedClientIds","firstClientId","rootClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n} ) => (\n\t<>\n\t\t<ToolbarButton\n\t\t\ttitle={ ! isFirst ?\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t__( 'Move block up from row %1$s to row %2$s' ),\n\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\tfirstIndex\n\t\t\t\t) :\n\t\t\t\t__( 'Move block up' )\n\t\t\t}\n\t\t\tisDisabled={ isFirst }\n\t\t\tonClick={ onMoveUp }\n\t\t\ticon=\"arrow-up-alt\"\n\t\t\textraProps={ { hint: __( 'Double tap to move the block up' ) } }\n\t\t/>\n\n\t\t<ToolbarButton\n\t\t\ttitle={ ! isLast ?\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t__( 'Move block down from row %1$s to row %2$s' ),\n\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\tfirstIndex + 2\n\t\t\t\t) :\n\t\t\t\t__( 'Move block down' )\n\t\t\t}\n\t\t\tisDisabled={ isLast }\n\t\t\tonClick={ onMoveDown }\n\t\t\ticon=\"arrow-down-alt\"\n\t\t\textraProps={ { hint: __( 'Double tap to move the block down' ) } }\n\t\t/>\n\t</>\n);\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst { getBlockIndex, getBlockRootClientId, getBlockOrder } = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( first( normalizedClientIds ) );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex( last( normalizedClientIds ), rootClientId );\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId,\n)( BlockMover );\n"]}