{"version":3,"sources":["@wordpress/block-editor/src/components/block-settings-menu/index.js"],"names":["POPOVER_PROPS","className","position","BlockSettingsMenu","clientIds","blockClientIds","count","length","firstBlockClientId","canDuplicate","canInsertDefaultBlock","isLocked","onDuplicate","onInsertAfter","onInsertBefore","onRemove","onClose","shortcuts","duplicate","display","insertBefore","insertAfter","removeBlock"],"mappings":";;;;;;;;;;;;AAGA;;AAKA;;AACA;;AAUA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAzBA;;;;AAKA;;;;AAWA;;;AAWA,IAAMA,aAAa,GAAG;AACrBC,EAAAA,SAAS,EAAE,+EADU;AAErBC,EAAAA,QAAQ,EAAE;AAFW,CAAtB;;AAKO,SAASC,iBAAT,OAA4C;AAAA,MAAdC,SAAc,QAAdA,SAAc;AAClD,MAAMC,cAAc,GAAG,uBAAWD,SAAX,CAAvB;AACA,MAAME,KAAK,GAAGD,cAAc,CAACE,MAA7B;AACA,MAAMC,kBAAkB,GAAGH,cAAc,CAAE,CAAF,CAAzC;AAEA,SACC,4BAAC,qBAAD;AAAc,IAAA,SAAS,EAAGD;AAA1B,KACG;AAAA,QACDK,YADC,SACDA,YADC;AAAA,QAEDC,qBAFC,SAEDA,qBAFC;AAAA,QAGDC,QAHC,SAGDA,QAHC;AAAA,QAIDC,WAJC,SAIDA,WAJC;AAAA,QAKDC,aALC,SAKDA,aALC;AAAA,QAMDC,cANC,SAMDA,cANC;AAAA,QAODC,QAPC,SAODA,QAPC;AAAA,WASD,4BAAC,mBAAD,QACC,4BAAC,wBAAD;AACC,MAAA,IAAI,EAAC,UADN;AAEC,MAAA,KAAK,EAAG,cAAI,cAAJ,CAFT;AAGC,MAAA,SAAS,EAAC,kCAHX;AAIC,MAAA,YAAY,EAAGf;AAJhB,OAMG;AAAA,UAAIgB,OAAJ,SAAIA,OAAJ;AAAA,aACD,qDACC,4BAAC,qBAAD,QACC,4BAAC,mCAAD,CAA0C,IAA1C;AACC,QAAA,SAAS,EAAG;AAAEA,UAAAA,OAAO,EAAPA;AAAF;AADb,QADD,EAIGV,KAAK,KAAK,CAAV,IACD,4BAAC,kCAAD;AACC,QAAA,QAAQ,EAAGE;AADZ,QALF,EASGF,KAAK,KAAK,CAAV,IACD,4BAAC,+BAAD;AACC,QAAA,QAAQ,EAAGE;AADZ,QAVF,EAcGC,YAAY,IACb,4BAAC,oBAAD;AACC,QAAA,SAAS,EAAC,+EADX;AAEC,QAAA,OAAO,EAAG,kBAAMO,OAAN,EAAeJ,WAAf,CAFX;AAGC,QAAA,IAAI,EAAC,YAHN;AAIC,QAAA,QAAQ,EAAGK,wCAAUC,SAAV,CAAoBC;AAJhC,SAMG,cAAI,WAAJ,CANH,CAfF,EAwBGT,qBAAqB,IACtB,qDACC,4BAAC,oBAAD;AACC,QAAA,SAAS,EAAC,+EADX;AAEC,QAAA,OAAO,EAAG,kBAAMM,OAAN,EAAeF,cAAf,CAFX;AAGC,QAAA,IAAI,EAAC,eAHN;AAIC,QAAA,QAAQ,EAAGG,wCAAUG,YAAV,CAAuBD;AAJnC,SAMG,cAAI,eAAJ,CANH,CADD,EASC,4BAAC,oBAAD;AACC,QAAA,SAAS,EAAC,+EADX;AAEC,QAAA,OAAO,EAAG,kBAAMH,OAAN,EAAeH,aAAf,CAFX;AAGC,QAAA,IAAI,EAAC,cAHN;AAIC,QAAA,QAAQ,EAAGI,wCAAUI,WAAV,CAAsBF;AAJlC,SAMG,cAAI,cAAJ,CANH,CATD,CAzBF,EA4CGb,KAAK,KAAK,CAAV,IACD,4BAAC,wBAAD;AACC,QAAA,QAAQ,EAAGE,kBADZ;AAEC,QAAA,QAAQ,EAAGQ;AAFZ,QA7CF,EAkDC,4BAAC,0CAAD,CAAiD,IAAjD;AACC,QAAA,SAAS,EAAG;AAAEZ,UAAAA,SAAS,EAATA,SAAF;AAAaY,UAAAA,OAAO,EAAPA;AAAb;AADb,QAlDD,CADD,EAuDC,4BAAC,qBAAD,QACG,CAAEL,QAAF,IACD,4BAAC,oBAAD;AACC,QAAA,SAAS,EAAC,+EADX;AAEC,QAAA,OAAO,EAAG,kBAAMK,OAAN,EAAeD,QAAf,CAFX;AAGC,QAAA,IAAI,EAAC,OAHN;AAIC,QAAA,QAAQ,EAAGE,wCAAUK,WAAV,CAAsBH;AAJlC,SAMG,cAAI,cAAJ,EAAoB,eAApB,EAAqCb,KAArC,CANH,CAFF,CAvDD,CADC;AAAA,KANH,CADD,CATC;AAAA,GADH,CADD;AA6FA;;eAEcH,iB","sourcesContent":["/**\n * External dependencies\n */\nimport { castArray, flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport {\n\tToolbar,\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { shortcuts } from '../block-editor-keyboard-shortcuts';\nimport BlockActions from '../block-actions';\nimport BlockModeToggle from './block-mode-toggle';\nimport BlockHTMLConvertButton from './block-html-convert-button';\nimport BlockUnknownConvertButton from './block-unknown-convert-button';\nimport __experimentalBlockSettingsMenuFirstItem from './block-settings-menu-first-item';\nimport __experimentalBlockSettingsMenuPluginsExtension from './block-settings-menu-plugins-extension';\n\nconst POPOVER_PROPS = {\n\tclassName: 'block-editor-block-settings-menu__popover editor-block-settings-menu__popover',\n\tposition: 'bottom right',\n};\n\nexport function BlockSettingsMenu( { clientIds } ) {\n\tconst blockClientIds = castArray( clientIds );\n\tconst count = blockClientIds.length;\n\tconst firstBlockClientId = blockClientIds[ 0 ];\n\n\treturn (\n\t\t<BlockActions clientIds={ clientIds }>\n\t\t\t{ ( {\n\t\t\t\tcanDuplicate,\n\t\t\t\tcanInsertDefaultBlock,\n\t\t\t\tisLocked,\n\t\t\t\tonDuplicate,\n\t\t\t\tonInsertAfter,\n\t\t\t\tonInsertBefore,\n\t\t\t\tonRemove,\n\t\t\t} ) => (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\ticon=\"ellipsis\"\n\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\tclassName=\"block-editor-block-settings-menu\"\n\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t<__experimentalBlockSettingsMenuFirstItem.Slot\n\t\t\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockUnknownConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockHTMLConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canDuplicate && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow( onClose, onDuplicate ) }\n\t\t\t\t\t\t\t\t\t\t\ticon=\"admin-page\"\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.duplicate.display }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Duplicate' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canInsertDefaultBlock && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow( onClose, onInsertBefore ) }\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"insert-before\"\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.insertBefore.display }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert Before' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow( onClose, onInsertAfter ) }\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"insert-after\"\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.insertAfter.display }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert After' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockModeToggle\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<__experimentalBlockSettingsMenuPluginsExtension.Slot\n\t\t\t\t\t\t\t\t\t\tfillProps={ { clientIds, onClose } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t{ ! isLocked && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow( onClose, onRemove ) }\n\t\t\t\t\t\t\t\t\t\t\ticon=\"trash\"\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.removeBlock.display }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ _n( 'Remove Block', 'Remove Blocks', count ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t</Toolbar>\n\t\t\t) }\n\t\t</BlockActions>\n\t);\n}\n\nexport default BlockSettingsMenu;\n"]}