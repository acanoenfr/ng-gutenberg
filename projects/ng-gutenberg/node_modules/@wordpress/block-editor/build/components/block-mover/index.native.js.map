{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["BlockMover","isFirst","isLast","onMoveDown","onMoveUp","firstIndex","hint","select","clientIds","getBlockIndex","getBlockRootClientId","getBlockOrder","normalizedClientIds","firstClientId","rootClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp","withInstanceId"],"mappings":";;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAXA;;;;AAKA;;;AAQA,IAAMA,UAAU,GAAG,SAAbA,UAAa;AAAA,MAClBC,OADkB,QAClBA,OADkB;AAAA,MAElBC,MAFkB,QAElBA,MAFkB;AAAA,MAGlBC,UAHkB,QAGlBA,UAHkB;AAAA,MAIlBC,QAJkB,QAIlBA,QAJkB;AAAA,MAKlBC,UALkB,QAKlBA,UALkB;AAAA,SAOlB,qDACC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,CAAEJ,OAAF,GACP;AACC;AACA,kBAAI,yCAAJ,CAFD,EAGCI,UAAU,GAAG,CAHd,EAICA,UAJD,CADO,GAOP,cAAI,eAAJ,CARF;AAUC,IAAA,UAAU,EAAGJ,OAVd;AAWC,IAAA,OAAO,EAAGG,QAXX;AAYC,IAAA,IAAI,EAAC,cAZN;AAaC,IAAA,UAAU,EAAG;AAAEE,MAAAA,IAAI,EAAE,cAAI,iCAAJ;AAAR;AAbd,IADD,EAiBC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,CAAEJ,MAAF,GACP;AACC;AACA,kBAAI,2CAAJ,CAFD,EAGCG,UAAU,GAAG,CAHd,EAICA,UAAU,GAAG,CAJd,CADO,GAOP,cAAI,iBAAJ,CARF;AAUC,IAAA,UAAU,EAAGH,MAVd;AAWC,IAAA,OAAO,EAAGC,UAXX;AAYC,IAAA,IAAI,EAAC,gBAZN;AAaC,IAAA,UAAU,EAAG;AAAEG,MAAAA,IAAI,EAAE,cAAI,mCAAJ;AAAR;AAbd,IAjBD,CAPkB;AAAA,CAAnB;;eA0Ce,sBACd,sBAAY,UAAEC,MAAF,SAA6B;AAAA,MAAjBC,SAAiB,SAAjBA,SAAiB;;AAAA,gBACuBD,MAAM,CAAE,mBAAF,CAD7B;AAAA,MAChCE,aADgC,WAChCA,aADgC;AAAA,MACjBC,oBADiB,WACjBA,oBADiB;AAAA,MACKC,aADL,WACKA,aADL;;AAExC,MAAMC,mBAAmB,GAAG,uBAAWJ,SAAX,CAA5B;AACA,MAAMK,aAAa,GAAG,mBAAOD,mBAAP,CAAtB;AACA,MAAME,YAAY,GAAGJ,oBAAoB,CAAE,mBAAOE,mBAAP,CAAF,CAAzC;AACA,MAAMG,UAAU,GAAGJ,aAAa,CAAEG,YAAF,CAAhC;AACA,MAAMT,UAAU,GAAGI,aAAa,CAAEI,aAAF,EAAiBC,YAAjB,CAAhC;AACA,MAAME,SAAS,GAAGP,aAAa,CAAE,kBAAMG,mBAAN,CAAF,EAA+BE,YAA/B,CAA/B;AAEA,SAAO;AACNT,IAAAA,UAAU,EAAVA,UADM;AAENJ,IAAAA,OAAO,EAAEI,UAAU,KAAK,CAFlB;AAGNH,IAAAA,MAAM,EAAEc,SAAS,KAAKD,UAAU,CAACE,MAAX,GAAoB;AAHpC,GAAP;AAKA,CAdD,CADc,EAgBd,wBAAc,UAAEC,QAAF,SAA6C;AAAA,MAA/BV,SAA+B,SAA/BA,SAA+B;AAAA,MAApBM,YAAoB,SAApBA,YAAoB;;AAAA,kBACjBI,QAAQ,CAAE,mBAAF,CADS;AAAA,MAClDC,cADkD,aAClDA,cADkD;AAAA,MAClCC,YADkC,aAClCA,YADkC;;AAE1D,SAAO;AACNjB,IAAAA,UAAU,EAAE,qBAASgB,cAAT,EAAyBX,SAAzB,EAAoCM,YAApC,CADN;AAENV,IAAAA,QAAQ,EAAE,qBAASgB,YAAT,EAAuBZ,SAAvB,EAAkCM,YAAlC;AAFJ,GAAP;AAIA,CAND,CAhBc,EAuBdO,uBAvBc,EAwBZrB,UAxBY,C","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n} ) => (\n\t<>\n\t\t<ToolbarButton\n\t\t\ttitle={ ! isFirst ?\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t__( 'Move block up from row %1$s to row %2$s' ),\n\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\tfirstIndex\n\t\t\t\t) :\n\t\t\t\t__( 'Move block up' )\n\t\t\t}\n\t\t\tisDisabled={ isFirst }\n\t\t\tonClick={ onMoveUp }\n\t\t\ticon=\"arrow-up-alt\"\n\t\t\textraProps={ { hint: __( 'Double tap to move the block up' ) } }\n\t\t/>\n\n\t\t<ToolbarButton\n\t\t\ttitle={ ! isLast ?\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t__( 'Move block down from row %1$s to row %2$s' ),\n\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\tfirstIndex + 2\n\t\t\t\t) :\n\t\t\t\t__( 'Move block down' )\n\t\t\t}\n\t\t\tisDisabled={ isLast }\n\t\t\tonClick={ onMoveDown }\n\t\t\ticon=\"arrow-down-alt\"\n\t\t\textraProps={ { hint: __( 'Double tap to move the block down' ) } }\n\t\t/>\n\t</>\n);\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst { getBlockIndex, getBlockRootClientId, getBlockOrder } = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( first( normalizedClientIds ) );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex( last( normalizedClientIds ), rootClientId );\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId,\n)( BlockMover );\n"]}