{"version":3,"sources":["@wordpress/block-library/src/legacy-widget/edit/placeholder.js"],"names":["LegacyWidgetPlaceholder","availableLegacyWidgets","currentWidget","hasPermissionsToManageWidgets","onChangeWidget","visibleLegacyWidgets","isHidden","placeholderContent","value","label","concat","widget","key","name"],"mappings":";;;;;;;AAQA;;AALA;;AAMA;;AACA;;AACA;;AAXA;;;;AAKA;;;AAQe,SAASA,uBAAT,OAKX;AAAA,MAJHC,sBAIG,QAJHA,sBAIG;AAAA,MAHHC,aAGG,QAHHA,aAGG;AAAA,MAFHC,6BAEG,QAFHA,6BAEG;AAAA,MADHC,cACG,QADHA,cACG;AACH,MAAMC,oBAAoB,GAAG,sBAC5B;AAAA,WAAM,oBACLJ,sBADK,EAEL;AAAA,UAAIK,QAAJ,SAAIA,QAAJ;AAAA,aAAoB,CAAEA,QAAtB;AAAA,KAFK,CAAN;AAAA,GAD4B,EAK5B,CAAEL,sBAAF,CAL4B,CAA7B;AAOA,MAAIM,kBAAJ;;AACA,MAAK,CAAEJ,6BAAP,EAAuC;AACtCI,IAAAA,kBAAkB,GAAG,cAAI,0DAAJ,CAArB;AACA;;AACD,MAAK,qBAASF,oBAAT,CAAL,EAAuC;AACtCE,IAAAA,kBAAkB,GAAG,cAAI,iCAAJ,CAArB;AACA;;AACDA,EAAAA,kBAAkB,GACjB,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,oCAAJ,CADT;AAEC,IAAA,KAAK,EAAGL,aAAa,IAAI,MAF1B;AAGC,IAAA,QAAQ,EAAGE,cAHZ;AAIC,IAAA,OAAO,EAAG,CAAE;AAAEI,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,KAAK,EAAE;AAAxB,KAAF,EAA8CC,MAA9C,CACT,iBAAKL,oBAAL,EAA2B,UAAEM,MAAF,EAAUC,GAAV,EAAmB;AAC7C,aAAO;AACNJ,QAAAA,KAAK,EAAEI,GADD;AAENH,QAAAA,KAAK,EAAEE,MAAM,CAACE;AAFR,OAAP;AAIA,KALD,CADS;AAJX,IADD;AAeA,SACC,4BAAC,uBAAD;AACC,IAAA,IAAI,EAAG,4BAAC,sBAAD;AAAW,MAAA,IAAI,EAAC;AAAhB,MADR;AAEC,IAAA,KAAK,EAAG,cAAI,eAAJ;AAFT,KAIGN,kBAJH,CADD;AAQA","sourcesContent":["/**\n * External dependencies\n */\nimport { pickBy, isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\n\nexport default function LegacyWidgetPlaceholder( {\n\tavailableLegacyWidgets,\n\tcurrentWidget,\n\thasPermissionsToManageWidgets,\n\tonChangeWidget,\n} ) {\n\tconst visibleLegacyWidgets = useMemo(\n\t\t() => pickBy(\n\t\t\tavailableLegacyWidgets,\n\t\t\t( { isHidden } ) => ! isHidden\n\t\t),\n\t\t[ availableLegacyWidgets ]\n\t);\n\tlet placeholderContent;\n\tif ( ! hasPermissionsToManageWidgets ) {\n\t\tplaceholderContent = __( 'You don\\'t have permissions to use widgets on this site.' );\n\t}\n\tif ( isEmpty( visibleLegacyWidgets ) ) {\n\t\tplaceholderContent = __( 'There are no widgets available.' );\n\t}\n\tplaceholderContent = (\n\t\t<SelectControl\n\t\t\tlabel={ __( 'Select a legacy widget to display:' ) }\n\t\t\tvalue={ currentWidget || 'none' }\n\t\t\tonChange={ onChangeWidget }\n\t\t\toptions={ [ { value: 'none', label: 'Select widget' } ].concat(\n\t\t\t\tmap( visibleLegacyWidgets, ( widget, key ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\tlabel: widget.name,\n\t\t\t\t\t};\n\t\t\t\t} )\n\t\t\t) }\n\t\t/>\n\t);\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ <BlockIcon icon=\"admin-customizer\" /> }\n\t\t\tlabel={ __( 'Legacy Widget' ) }\n\t\t>\n\t\t\t{ placeholderContent }\n\t\t</Placeholder>\n\t);\n}\n"]}