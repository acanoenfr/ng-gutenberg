{"version":3,"sources":["@wordpress/block-library/src/navigation-menu-item/edit.js"],"names":["POPOVER_PROPS","noArrow","NavigationMenuItemEdit","attributes","clientId","isSelected","setAttributes","plainTextRef","onEditLableClicked","onClose","content","label","isOpen","onToggle","destination","opensInNewTab","description","title","nofollow","InnerBlocks","ButtonBlockAppender"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tExternalLink,\n\tIconButton,\n\tPanelBody,\n\tTextareaControl,\n\tTextControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tInspectorControls,\n\tPlainText,\n} from '@wordpress/block-editor';\nimport {\n\tFragment,\n\tuseCallback,\n\tuseRef,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport MenuItemActions from './menu-item-actions';\nconst POPOVER_PROPS = { noArrow: true };\n\nfunction NavigationMenuItemEdit( {\n\tattributes,\n\tclientId,\n\tisSelected,\n\tsetAttributes,\n} ) {\n\tconst plainTextRef = useRef( null );\n\tconst onEditLableClicked = useCallback(\n\t\t( onClose ) => () => {\n\t\t\tonClose();\n\t\t\tinvoke( plainTextRef, [ 'current', 'textarea', 'focus' ] );\n\t\t},\n\t\t[ plainTextRef ]\n\t);\n\tlet content;\n\tif ( isSelected ) {\n\t\tcontent = (\n\t\t\t<div className=\"wp-block-navigation-menu-item__edit-container\">\n\t\t\t\t<PlainText\n\t\t\t\t\tref={ plainTextRef }\n\t\t\t\t\tclassName=\"wp-block-navigation-menu-item__field\"\n\t\t\t\t\tvalue={ attributes.label }\n\t\t\t\t\tonChange={ ( label ) => setAttributes( { label } ) }\n\t\t\t\t\taria-label={ __( 'Navigation Label' ) }\n\t\t\t\t\tmaxRows={ 1 }\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\tcontentClassName=\"wp-block-navigation-menu-item__dropdown-content\"\n\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon={ isOpen ? 'arrow-up-alt2' : 'arrow-down-alt2' }\n\t\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<MenuItemActions\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tdestination={ attributes.destination }\n\t\t\t\t\t\t\tonEditLableClicked={ onEditLableClicked( onClose ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcontent = attributes.label;\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'Menu Settings' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tchecked={ attributes.opensInNewTab }\n\t\t\t\t\t\tonChange={ ( opensInNewTab ) => {\n\t\t\t\t\t\t\tsetAttributes( { opensInNewTab } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tvalue={ attributes.description || '' }\n\t\t\t\t\t\tonChange={ ( description ) => {\n\t\t\t\t\t\t\tsetAttributes( { description } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Description' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'SEO Settings' ) }\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tvalue={ attributes.title || '' }\n\t\t\t\t\t\tonChange={ ( title ) => {\n\t\t\t\t\t\t\tsetAttributes( { title } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Title Attribute' ) }\n\t\t\t\t\t\thelp={ __( 'Provide more context about where the link goes.' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tchecked={ attributes.nofollow }\n\t\t\t\t\t\tonChange={ ( nofollow ) => {\n\t\t\t\t\t\t\tsetAttributes( { nofollow } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Add nofollow to menu item' ) }\n\t\t\t\t\t\thelp={ (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{ __( 'Don\\'t let search engines follow this link.' ) }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-navigation-menu-item__nofollow-external-link\"\n\t\t\t\t\t\t\t\t\thref={ __( 'https://codex.wordpress.org/Nofollow' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'What\\'s this?' ) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className=\"wp-block-navigation-menu-item\">\n\t\t\t\t{ content }\n\t\t\t\t<InnerBlocks\n\t\t\t\t\tallowedBlocks={ [ 'core/navigation-menu-item' ] }\n\t\t\t\t\trenderAppender={ InnerBlocks.ButtonBlockAppender }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n\nexport default NavigationMenuItemEdit;\n"]}