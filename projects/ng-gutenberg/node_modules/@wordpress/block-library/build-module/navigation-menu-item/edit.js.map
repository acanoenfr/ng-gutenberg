{"version":3,"sources":["@wordpress/block-library/src/navigation-menu-item/edit.js"],"names":["invoke","Dropdown","ExternalLink","IconButton","PanelBody","TextareaControl","TextControl","ToggleControl","__","InnerBlocks","InspectorControls","PlainText","Fragment","useCallback","useRef","MenuItemActions","POPOVER_PROPS","noArrow","NavigationMenuItemEdit","attributes","clientId","isSelected","setAttributes","plainTextRef","onEditLableClicked","onClose","content","label","isOpen","onToggle","destination","opensInNewTab","description","title","nofollow","ButtonBlockAppender"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tExternalLink,\n\tIconButton,\n\tPanelBody,\n\tTextareaControl,\n\tTextControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tInspectorControls,\n\tPlainText,\n} from '@wordpress/block-editor';\nimport {\n\tFragment,\n\tuseCallback,\n\tuseRef,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport MenuItemActions from './menu-item-actions';\nconst POPOVER_PROPS = { noArrow: true };\n\nfunction NavigationMenuItemEdit( {\n\tattributes,\n\tclientId,\n\tisSelected,\n\tsetAttributes,\n} ) {\n\tconst plainTextRef = useRef( null );\n\tconst onEditLableClicked = useCallback(\n\t\t( onClose ) => () => {\n\t\t\tonClose();\n\t\t\tinvoke( plainTextRef, [ 'current', 'textarea', 'focus' ] );\n\t\t},\n\t\t[ plainTextRef ]\n\t);\n\tlet content;\n\tif ( isSelected ) {\n\t\tcontent = (\n\t\t\t<div className=\"wp-block-navigation-menu-item__edit-container\">\n\t\t\t\t<PlainText\n\t\t\t\t\tref={ plainTextRef }\n\t\t\t\t\tclassName=\"wp-block-navigation-menu-item__field\"\n\t\t\t\t\tvalue={ attributes.label }\n\t\t\t\t\tonChange={ ( label ) => setAttributes( { label } ) }\n\t\t\t\t\taria-label={ __( 'Navigation Label' ) }\n\t\t\t\t\tmaxRows={ 1 }\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\tcontentClassName=\"wp-block-navigation-menu-item__dropdown-content\"\n\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\ticon={ isOpen ? 'arrow-up-alt2' : 'arrow-down-alt2' }\n\t\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<MenuItemActions\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tdestination={ attributes.destination }\n\t\t\t\t\t\t\tonEditLableClicked={ onEditLableClicked( onClose ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcontent = attributes.label;\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'Menu Settings' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tchecked={ attributes.opensInNewTab }\n\t\t\t\t\t\tonChange={ ( opensInNewTab ) => {\n\t\t\t\t\t\t\tsetAttributes( { opensInNewTab } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tvalue={ attributes.description || '' }\n\t\t\t\t\t\tonChange={ ( description ) => {\n\t\t\t\t\t\t\tsetAttributes( { description } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Description' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'SEO Settings' ) }\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tvalue={ attributes.title || '' }\n\t\t\t\t\t\tonChange={ ( title ) => {\n\t\t\t\t\t\t\tsetAttributes( { title } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Title Attribute' ) }\n\t\t\t\t\t\thelp={ __( 'Provide more context about where the link goes.' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tchecked={ attributes.nofollow }\n\t\t\t\t\t\tonChange={ ( nofollow ) => {\n\t\t\t\t\t\t\tsetAttributes( { nofollow } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Add nofollow to menu item' ) }\n\t\t\t\t\t\thelp={ (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{ __( 'Don\\'t let search engines follow this link.' ) }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-navigation-menu-item__nofollow-external-link\"\n\t\t\t\t\t\t\t\t\thref={ __( 'https://codex.wordpress.org/Nofollow' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'What\\'s this?' ) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className=\"wp-block-navigation-menu-item\">\n\t\t\t\t{ content }\n\t\t\t\t<InnerBlocks\n\t\t\t\t\tallowedBlocks={ [ 'core/navigation-menu-item' ] }\n\t\t\t\t\trenderAppender={ InnerBlocks.ButtonBlockAppender }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n\nexport default NavigationMenuItemEdit;\n"]}