{"version":3,"sources":["@wordpress/block-library/src/gallery/deprecated.js"],"names":["classnames","map","some","RichText","defaultColumnsNumber","deprecated","attributes","images","type","default","source","selector","query","url","attribute","fullUrl","alt","id","link","caption","ids","columns","imageCrop","linkTo","save","image","href","img","length","isEligible","index","parseInt","migrate","align","className","alignnone"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { map, some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { RichText } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { defaultColumnsNumber } from './shared';\n\nconst deprecated = [\n\t{\n\t\tattributes: {\n\t\t\timages: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t\tsource: 'query',\n\t\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\t\tquery: {\n\t\t\t\t\turl: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'src',\n\t\t\t\t\t},\n\t\t\t\t\tfullUrl: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t\t},\n\t\t\t\t\talt: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t},\n\t\t\t\t\tid: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t\t},\n\t\t\t\t\tlink: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t\t},\n\t\t\t\t\tcaption: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tsource: 'children',\n\t\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tids: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t},\n\t\t\tcolumns: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\timageCrop: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t\tlinkTo: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), imageCrop, linkTo } = attributes;\n\t\t\treturn (\n\t\t\t\t<ul className={ `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={ image.id ? `wp-image-${ image.id }` : null }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ image.caption } />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tattributes: {\n\t\t\timages: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t\tsource: 'query',\n\t\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\t\tquery: {\n\t\t\t\t\turl: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'src',\n\t\t\t\t\t},\n\t\t\t\t\talt: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t},\n\t\t\t\t\tid: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t\t},\n\t\t\t\t\tlink: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tselector: 'img',\n\t\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t\t},\n\t\t\t\t\tcaption: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tsource: 'children',\n\t\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tcolumns: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\timageCrop: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t\tlinkTo: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\t\tisEligible( { images, ids } ) {\n\t\t\treturn images &&\n\t\t\t\timages.length > 0 &&\n\t\t\t\t(\n\t\t\t\t\t( ! ids && images ) ||\n\t\t\t\t\t( ids && images && ids.length !== images.length ) ||\n\t\t\t\t\tsome( images, ( id, index ) => {\n\t\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn {\n\t\t\t\t...attributes,\n\t\t\t\tids: map( attributes.images, ( { id } ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn parseInt( id, 10 );\n\t\t\t\t} ),\n\t\t\t};\n\t\t},\n\t\tsave( { attributes } ) {\n\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), imageCrop, linkTo } = attributes;\n\t\t\treturn (\n\t\t\t\t<ul className={ `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }` } >\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } data-link={ image.link } className={ image.id ? `wp-image-${ image.id }` : null } />;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={ image.id || image.url } className=\"blocks-gallery-item\">\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ image.caption } />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tattributes: {\n\t\t\timages: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t\tsource: 'query',\n\t\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\n\t\t\t\tquery: {\n\t\t\t\t\turl: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'src',\n\t\t\t\t\t},\n\t\t\t\t\talt: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t},\n\t\t\t\t\tid: {\n\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tcolumns: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\timageCrop: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t\tlinkTo: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'none',\n\t\t\t},\n\t\t},\n\n\t\tsave( { attributes } ) {\n\t\t\tconst { images, columns = defaultColumnsNumber( attributes ), align, imageCrop, linkTo } = attributes;\n\t\t\tconst className = classnames( `columns-${ columns }`, {\n\t\t\t\talignnone: align === 'none',\n\t\t\t\t'is-cropped': imageCrop,\n\t\t\t} );\n\t\t\treturn (\n\t\t\t\t<div className={ className } >\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = <img src={ image.url } alt={ image.alt } data-id={ image.id } />;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<figure key={ image.id || image.url } className=\"blocks-gallery-image\">\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t},\n];\n\nexport default deprecated;\n"]}