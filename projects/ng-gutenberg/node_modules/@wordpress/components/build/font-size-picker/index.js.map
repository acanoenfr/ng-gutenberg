{"version":3,"sources":["@wordpress/components/src/font-size-picker/index.js"],"names":["getSelectValueFromFontSize","fontSizes","value","fontSizeValue","find","font","size","slug","getSelectOptions","optionsArray","map","option","label","name","FontSizePicker","fallbackFontSize","disableCustomFontSizes","onChange","withSlider","currentSelectValue","setCurrentSelectValue","length","onChangeValue","event","newValue","target","Number","undefined","onSelectChangeValue","eventValue","selectedFont"],"mappings":"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","sourcesContent":["\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport RangeControl from '../range-control';\nimport SelectControl from '../select-control';\n\nfunction getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( value ) {\n\t\tconst fontSizeValue = fontSizes.find( ( font ) => font.size === value );\n\t\treturn fontSizeValue ? fontSizeValue.slug : 'custom';\n\t}\n\treturn 'normal';\n}\n\nfunction getSelectOptions( optionsArray ) {\n\treturn [\n\t\t...optionsArray.map( ( option ) => ( { value: option.slug, label: option.name } ) ),\n\t\t{ value: 'custom', label: __( 'Custom' ) },\n\t];\n}\n\nfunction FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n} ) {\n\tconst [ currentSelectValue, setCurrentSelectValue ] = useState( getSelectValueFromFontSize( fontSizes, value ) );\n\n\tif ( disableCustomFontSizes && ! fontSizes.length ) {\n\t\treturn null;\n\t}\n\n\tconst onChangeValue = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tsetCurrentSelectValue( getSelectValueFromFontSize( fontSizes, Number( newValue ) ) );\n\t\tif ( newValue === '' ) {\n\t\t\tonChange( undefined );\n\t\t\treturn;\n\t\t}\n\t\tonChange( Number( newValue ) );\n\t};\n\n\tconst onSelectChangeValue = ( eventValue ) => {\n\t\tsetCurrentSelectValue( eventValue );\n\t\tconst selectedFont = fontSizes.find( ( font ) => font.slug === eventValue );\n\t\tif ( selectedFont ) {\n\t\t\tonChange( selectedFont.size );\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset>\n\t\t\t<legend>\n\t\t\t\t{ __( 'Font Size' ) }\n\t\t\t</legend>\n\t\t\t<div className=\"components-font-size-picker__controls\">\n\t\t\t\t{ ( fontSizes.length > 0 ) &&\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tclassName={ 'components-font-size-picker__select' }\n\t\t\t\t\t\tlabel={ 'Choose preset' }\n\t\t\t\t\t\thideLabelFromVision={ true }\n\t\t\t\t\t\tvalue={ currentSelectValue }\n\t\t\t\t\t\tonChange={ onSelectChangeValue }\n\t\t\t\t\t\toptions={ getSelectOptions( fontSizes ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{ ( ! withSlider && ! disableCustomFontSizes ) &&\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"components-range-control__number\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\taria-label={ __( 'Custom' ) }\n\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( undefined );\n\t\t\t\t\t\tsetCurrentSelectValue( getSelectValueFromFontSize( fontSizes, undefined ) );\n\t\t\t\t\t} }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisDefault\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider &&\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon=\"editor-textcolor\"\n\t\t\t\t\tafterIcon=\"editor-textcolor\"\n\t\t\t\t/>\n\t\t\t}\n\t\t</fieldset>\n\t);\n}\n\nexport default FontSizePicker;\n"]}