{"version":3,"sources":["@wordpress/components/src/snackbar/index.js"],"names":["noop","classnames","useEffect","forwardRef","__","Button","NOTICE_TIMEOUT","Snackbar","ref","className","children","actions","onRemove","timeoutHandle","setTimeout","clearTimeout","classes","length","console","warn","map","index","label","onClick","url","event","stopPropagation"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA;;;;AAGA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;AAGA,SAASC,MAAT,QAAuB,KAAvB;AAEA,IAAMC,cAAc,GAAG,KAAvB;;AAEA,SAASC,QAAT,OAKGC,GALH,EAKS;AAAA,MAJRC,SAIQ,QAJRA,SAIQ;AAAA,MAHRC,QAGQ,QAHRA,QAGQ;AAAA,0BAFRC,OAEQ;AAAA,MAFRA,OAEQ,6BAFE,EAEF;AAAA,2BADRC,QACQ;AAAA,MADRA,QACQ,8BADGZ,IACH;AACRE,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAMW,aAAa,GAAGC,UAAU,CAAE,YAAM;AACvCF,MAAAA,QAAQ;AACR,KAF+B,EAE7BN,cAF6B,CAAhC;AAIA,WAAO;AAAA,aAAMS,YAAY,CAAEF,aAAF,CAAlB;AAAA,KAAP;AACA,GANQ,EAMN,EANM,CAAT;AAQA,MAAMG,OAAO,GAAGf,UAAU,CAAEQ,SAAF,EAAa,qBAAb,CAA1B;;AACA,MAAKE,OAAO,IAAIA,OAAO,CAACM,MAAR,GAAiB,CAAjC,EAAqC;AACpC;AACA;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAc,mFAAd,EAHoC,CAIpC;;AACAR,IAAAA,OAAO,GAAG,CAAEA,OAAO,CAAE,CAAF,CAAT,CAAV;AACA;;AAED,SACC;AACC,IAAA,GAAG,EAAGH,GADP;AAEC,IAAA,SAAS,EAAGQ,OAFb;AAGC,IAAA,OAAO,EAAGJ,QAHX;AAIC,IAAA,QAAQ,EAAC,GAJV;AAKC,IAAA,IAAI,EAAC,QALN;AAMC,IAAA,UAAU,EAAGA,QANd;AAOC,IAAA,KAAK,EAAGR,EAAE,CAAE,qBAAF;AAPX,KASC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGM,QADH,EAEGC,OAAO,CAACS,GAAR,CACD,iBAMCC,KAND,EAOK;AAAA,QALHC,KAKG,SALHA,KAKG;AAAA,QAJHC,QAIG,SAJHA,OAIG;AAAA,QAHHC,GAGG,SAHHA,GAGG;AACJ,WACC,cAAC,MAAD;AACC,MAAA,GAAG,EAAGH,KADP;AAEC,MAAA,IAAI,EAAGG,GAFR;AAGC,MAAA,UAAU,MAHX;AAIC,MAAA,OAAO,EAAG,iBAAEC,KAAF,EAAa;AACtBA,QAAAA,KAAK,CAACC,eAAN;;AACA,YAAKH,QAAL,EAAe;AACdA,UAAAA,QAAO,CAAEE,KAAF,CAAP;AACA;AACD,OATF;AAUC,MAAA,SAAS,EAAC;AAVX,OAaGH,KAbH,CADD;AAiBA,GA1BA,CAFH,CATD,CADD;AA4CA;;AAED,eAAenB,UAAU,CAAEI,QAAF,CAAzB","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, forwardRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\n\nconst NOTICE_TIMEOUT = 10000;\n\nfunction Snackbar( {\n\tclassName,\n\tchildren,\n\tactions = [],\n\tonRemove = noop,\n}, ref ) {\n\tuseEffect( () => {\n\t\tconst timeoutHandle = setTimeout( () => {\n\t\t\tonRemove();\n\t\t}, NOTICE_TIMEOUT );\n\n\t\treturn () => clearTimeout( timeoutHandle );\n\t}, [] );\n\n\tconst classes = classnames( className, 'components-snackbar' );\n\tif ( actions && actions.length > 1 ) {\n\t\t// we need to inform developers that snackbar only accepts 1 action\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn( 'Snackbar can only have 1 action, use Notice if your message require many messages' );\n\t\t// return first element only while keeping it inside an array\n\t\tactions = [ actions[ 0 ] ];\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ classes }\n\t\t\tonClick={ onRemove }\n\t\t\ttabIndex=\"0\"\n\t\t\trole=\"button\"\n\t\t\tonKeyPress={ onRemove }\n\t\t\tlabel={ __( 'Dismiss this notice' ) }\n\t\t>\n\t\t\t<div className=\"components-snackbar__content\">\n\t\t\t\t{ children }\n\t\t\t\t{ actions.map(\n\t\t\t\t\t(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tonClick,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindex\n\t\t\t\t\t) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\tif ( onClick ) {\n\t\t\t\t\t\t\t\t\t\tonClick( event );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tclassName=\"components-snackbar__action\"\n\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( Snackbar );\n"]}