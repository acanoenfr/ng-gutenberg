{"version":3,"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/index.ios.js"],"names":["KeyboardAwareScrollView","FlatList","KeyboardAwareFlatList","extraScrollHeight","shouldPreventAutomaticScroll","innerRef","listProps","flex","ref","scrollViewRef","keyboardWillShowIndicator","setTimeout","latestContentOffsetY","undefined","props","scrollToPosition","event","nativeEvent","contentOffset","y","handleCaretVerticalPositionChange","scrollView","targetId","caretY","previousCaretY","refreshScrollForField"],"mappings":";;;;;;AAAA;;;AAGA,SAASA,uBAAT,QAAwC,yCAAxC;AACA,SAASC,QAAT,QAAyB,cAAzB;AAEA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,MACpCC,iBADoC,QACpCA,iBADoC;AAAA,MAEpCC,4BAFoC,QAEpCA,4BAFoC;AAAA,MAGpCC,SAHoC,QAGpCA,QAHoC;AAAA,MAIjCC,SAJiC;;AAAA,SAMpC,cAAC,uBAAD;AACC,IAAA,KAAK,EAAG;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADT;AAEC,IAAA,mBAAmB,EAAC,MAFrB;AAGC,IAAA,yBAAyB,EAAG,KAH7B;AAIC,IAAA,yBAAyB,EAAC,SAJ3B;AAKC,IAAA,iBAAiB,EAAGJ,iBALrB;AAMC,IAAA,WAAW,EAAG,CANf;AAOC,IAAA,QAAQ,EAAG,kBAAEK,GAAF,EAAW;AACrB,MAAA,KAAI,CAACC,aAAL,GAAqBD,GAArB;;AACAH,MAAAA,SAAQ,CAAEG,GAAF,CAAR;AACA,KAVF;AAWC,IAAA,kBAAkB,EAAG,8BAAM;AAC1B,MAAA,KAAI,CAACE,yBAAL,GAAiC,KAAjC;AACA,KAbF;AAcC,IAAA,iBAAiB,EAAG,6BAAM;AACzBC,MAAAA,UAAU,CAAE,YAAM;AACjB,YAAK,CAAE,KAAI,CAACD,yBAAP,IACJ,KAAI,CAACE,oBAAL,KAA8BC,SAD1B,IAEJ,CAAET,4BAA4B,EAF/B,EAEoC;AACnC;AACA,UAAA,KAAI,CAACK,aAAL,CAAmBK,KAAnB,CAAyBC,gBAAzB,CAA2C,CAA3C,EAA8C,KAAI,CAACH,oBAAnD,EAAyE,IAAzE;AACA;AACD,OAPS,EAOP,EAPO,CAAV;AAQA,KAvBF;AAwBC,IAAA,kBAAkB,EAAG,8BAAM;AAC1B,MAAA,KAAI,CAACF,yBAAL,GAAiC,IAAjC;AACA,KA1BF;AA2BC,IAAA,QAAQ,EAAG,kBAAEM,KAAF,EAAa;AACvB,MAAA,KAAI,CAACJ,oBAAL,GAA4BI,KAAK,CAACC,WAAN,CAAkBC,aAAlB,CAAgCC,CAA5D;AACA;AA7BF,KA8BC,cAAC,QAAD,EAAeb,SAAf,CA9BD,CANoC;AAAA,CAA9B;;AAwCPJ,qBAAqB,CAACkB,iCAAtB,GAA0D,UAAEC,UAAF,EAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,cAAhC,EAAoD;AAC7G,MAAKA,cAAL,EAAsB;AAAE;AACvBH,IAAAA,UAAU,CAACP,KAAX,CAAiBW,qBAAjB,CAAwCH,QAAxC;AACA;AACD,CAJD;;AAMA,eAAepB,qBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { FlatList } from 'react-native';\n\nexport const KeyboardAwareFlatList = ( {\n\textraScrollHeight,\n\tshouldPreventAutomaticScroll,\n\tinnerRef,\n\t...listProps\n} ) => (\n\t<KeyboardAwareScrollView\n\t\tstyle={ { flex: 1 } }\n\t\tkeyboardDismissMode=\"none\"\n\t\tenableResetScrollToCoords={ false }\n\t\tkeyboardShouldPersistTaps=\"handled\"\n\t\textraScrollHeight={ extraScrollHeight }\n\t\textraHeight={ 0 }\n\t\tinnerRef={ ( ref ) => {\n\t\t\tthis.scrollViewRef = ref;\n\t\t\tinnerRef( ref );\n\t\t} }\n\t\tonKeyboardWillHide={ () => {\n\t\t\tthis.keyboardWillShowIndicator = false;\n\t\t} }\n\t\tonKeyboardDidHide={ () => {\n\t\t\tsetTimeout( () => {\n\t\t\t\tif ( ! this.keyboardWillShowIndicator &&\n\t\t\t\t\tthis.latestContentOffsetY !== undefined &&\n\t\t\t\t\t! shouldPreventAutomaticScroll() ) {\n\t\t\t\t\t// Reset the content position if keyboard is still closed\n\t\t\t\t\tthis.scrollViewRef.props.scrollToPosition( 0, this.latestContentOffsetY, true );\n\t\t\t\t}\n\t\t\t}, 50 );\n\t\t} }\n\t\tonKeyboardWillShow={ () => {\n\t\t\tthis.keyboardWillShowIndicator = true;\n\t\t} }\n\t\tonScroll={ ( event ) => {\n\t\t\tthis.latestContentOffsetY = event.nativeEvent.contentOffset.y;\n\t\t} } >\n\t\t<FlatList { ...listProps } />\n\t</KeyboardAwareScrollView>\n);\n\nKeyboardAwareFlatList.handleCaretVerticalPositionChange = ( scrollView, targetId, caretY, previousCaretY ) => {\n\tif ( previousCaretY ) { //if this is not the first tap\n\t\tscrollView.props.refreshScrollForField( targetId );\n\t}\n};\n\nexport default KeyboardAwareFlatList;\n\n"]}